# Name: spf_codemirror v0.1 
# Type: Admin side plugin
# CodeMirror syntax-highlighting in pages, forms, css, JavaScript and external files
# Author: Simon Finch
# URL: https://github.com/spiffin/spf_codemirror
# Recommended load order: 5

# .....................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# .....................................................................

YToxMTp7czo0OiJuYW1lIjtzOjE0OiJzcGZfY29kZW1pcnJvciI7czo2OiJhdXRob3IiO3M6
MTE6IlNpbW9uIEZpbmNoIjtzOjEwOiJhdXRob3JfdXJpIjtzOjQxOiJodHRwczovL2dpdGh1
Yi5jb20vc3BpZmZpbi9zcGZfY29kZW1pcnJvciI7czo3OiJ2ZXJzaW9uIjtzOjM6IjAuMSI7
czoxMToiZGVzY3JpcHRpb24iO3M6ODI6IkNvZGVNaXJyb3Igc3ludGF4LWhpZ2hsaWdodGlu
ZyBpbiBwYWdlcywgZm9ybXMsIGNzcywgSmF2YVNjcmlwdCBhbmQgZXh0ZXJuYWwgZmlsZXMi
O3M6NDoiY29kZSI7czo0MjU1OiIvKioNCiAqIHNwZl9jb2RlbWlycm9yIC0gQ29kZU1pcnJv
ciBzeW50YXgtaGlnaGxpZ2h0aW5nIGZvciBUZXh0cGF0dGVybg0KICoNCiAqIMKpIDIwMTIg
U2ltb24gRmluY2ggLSBodHRwczovL2dpdGh1Yi5jb20vc3BpZmZpbi9zcGZfY29kZW1pcnJv
cg0KICoNCiAqIExpY2Vuc2VkIHVuZGVyIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZl
cnNpb24gMg0KICogaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC0yLjAuaHRtbA0K
ICoNCiAqIGEgcXVpY2sgdXBkYXRlIHRvIG1yZF9jb2RlTWlycm9yIC0gdGhhbmtzIERhbGUN
CiAqDQogKiBWZXJzaW9uIDAuMSAtLSAwOSBNYXkgMjAxMg0KICovDQoNCmlmIChAdHhwaW50
ZXJmYWNlID09ICdhZG1pbicpIHsNCiAgICByZWdpc3Rlcl9jYWxsYmFjaygnc3BmX3RleHRh
cmVhX3BhZ2UnLCAncGFnZScpOw0KICAgIHJlZ2lzdGVyX2NhbGxiYWNrKCdzcGZfdGV4dGFy
ZWFfZm9ybScsICdmb3JtJyk7DQogICAgcmVnaXN0ZXJfY2FsbGJhY2soJ3NwZl90ZXh0YXJl
YV9jc3MnLCAnY3NzJyk7DQogICAgcmVnaXN0ZXJfY2FsbGJhY2soJ3NwZl90ZXh0YXJlYV9q
cycsICdzcGZfanMnKTsNCiAgICByZWdpc3Rlcl9jYWxsYmFjaygnc3BmX3RleHRhcmVhX2V4
dCcsICdzcGZfZXh0Jyk7ICAgIA0KfQ0KDQpmdW5jdGlvbiBzcGZfdGV4dGFyZWFfcGFnZSgk
ZXZlbnQsICRzdGVwKSB7DQpzcGZfY29kZW1pcnJvcl90aGVtZV9zZWxlY3QoKTsNCnNwZl90
ZXh0YXJlYV9jb21tb24oKTsNCiRqcyA9ICc8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlw
dCIgc3JjPSIvY29kZW1pcnJvci9jbV9odG1sbWl4ZWRfbWluLmpzIj48L3NjcmlwdD4nOw0K
JGpzIC49ICc8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+JzsNCg0KJGpzIC49IDw8
PEVPRg0KdmFyIGVkaXRvciA9IENvZGVNaXJyb3IuZnJvbVRleHRBcmVhKGRvY3VtZW50Lmdl
dEVsZW1lbnRCeUlkKCJodG1sIiksIHsNCiAgICBtb2RlOiAidGV4dC9odG1sIiwNCiAgICB0
YWJNb2RlOiAiaW5kZW50IiwNCiAgICBsaW5lV3JhcHBpbmc6IHRydWUsDQogICAgbGluZU51
bWJlcnM6IHRydWUsDQogICAgZXh0cmFLZXlzOiB7DQogICAgIic+JyI6IGZ1bmN0aW9uKGNt
KSB7IGNtLmNsb3NlVGFnKGNtLCAnPicpOyB9LA0KICAgICInLyciOiBmdW5jdGlvbihjbSkg
eyBjbS5jbG9zZVRhZyhjbSwgJy8nKTsgfQ0KICAgIH0sDQogICAgdGhlbWU6ICJhbWJpYW5j
ZSINCn0pOw0KRU9GOw0KDQokanMgLj0gJzwvc2NyaXB0Pic7DQoNCmVjaG8gJGpzOw0KfQ0K
DQpmdW5jdGlvbiBzcGZfdGV4dGFyZWFfZm9ybSgkZXZlbnQsICRzdGVwKSB7DQpzcGZfY29k
ZW1pcnJvcl90aGVtZV9zZWxlY3QoKTsNCnNwZl90ZXh0YXJlYV9jb21tb24oKTsNCiRqcyA9
ICc8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvY29kZW1pcnJvci9jbV9o
dG1sbWl4ZWRfbWluLmpzIj48L3NjcmlwdD4nOw0KJGpzIC49ICc8c2NyaXB0IHR5cGU9InRl
eHQvamF2YXNjcmlwdCI+JzsNCg0KJGpzIC49IDw8PEVPRg0KdmFyIGVkaXRvciA9IENvZGVN
aXJyb3IuZnJvbVRleHRBcmVhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb3JtIiksIHsN
CiAgICBtb2RlOiAidGV4dC9odG1sIiwNCiAgICB0YWJNb2RlOiAiaW5kZW50IiwNCiAgICBs
aW5lV3JhcHBpbmc6IHRydWUsDQogICAgbGluZU51bWJlcnM6IHRydWUsDQogICAgZXh0cmFL
ZXlzOiB7DQogICAgIic+JyI6IGZ1bmN0aW9uKGNtKSB7IGNtLmNsb3NlVGFnKGNtLCAnPicp
OyB9LA0KICAgICInLyciOiBmdW5jdGlvbihjbSkgeyBjbS5jbG9zZVRhZyhjbSwgJy8nKTsg
fQ0KICAgIH0sDQogICAgdGhlbWU6ICJhbWJpYW5jZSINCn0pOw0KRU9GOw0KDQokanMgLj0g
Jzwvc2NyaXB0Pic7DQoNCmVjaG8gJGpzOw0KfQ0KDQpmdW5jdGlvbiBzcGZfdGV4dGFyZWFf
Y3NzKCRldmVudCwgJHN0ZXApIHsNCnNwZl9jb2RlbWlycm9yX3RoZW1lX3NlbGVjdCgpOw0K
c3BmX3RleHRhcmVhX2NvbW1vbigpOw0KJGpzID0gJzxzY3JpcHQgdHlwZT0idGV4dC9qYXZh
c2NyaXB0IiBzcmM9Ii9jb2RlbWlycm9yL2NtX2Nzc19taW4uanMiPjwvc2NyaXB0Pic7DQok
anMgLj0gJzxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4nOw0KDQokanMgLj0gPDw8
RU9GDQp2YXIgZWRpdG9yID0gQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEoZG9jdW1lbnQuZ2V0
RWxlbWVudEJ5SWQoImNzcyIpLCB7DQogICAgbGluZVdyYXBwaW5nOiB0cnVlLA0KICAgIGxp
bmVOdW1iZXJzIDogdHJ1ZSwNCiAgICBtYXRjaEJyYWNrZXRzIDogdHJ1ZSwNCiAgICB0aGVt
ZTogImFtYmlhbmNlIg0KfSk7ICANCkVPRjsNCg0KJGpzIC49ICc8L3NjcmlwdD4nOw0KDQpl
Y2hvICRqczsNCn0NCg0KZnVuY3Rpb24gc3BmX3RleHRhcmVhX2pzKCRldmVudCwgJHN0ZXAp
IHsNCnNwZl9jb2RlbWlycm9yX3RoZW1lX3NlbGVjdCgpOw0Kc3BmX3RleHRhcmVhX2NvbW1v
bigpOw0KJGpzID0gJzxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9jb2Rl
bWlycm9yL2NtX2phdmFzY3JpcHRfbWluLmpzIj48L3NjcmlwdD4nOw0KJGpzIC49ICc8c2Ny
aXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+JzsNCg0KJGpzIC49IDw8PEVPRg0KdmFyIGVk
aXRvciA9IENvZGVNaXJyb3IuZnJvbVRleHRBcmVhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlk
KCJzcGZfanMiKSwgew0KICAgIGxpbmVXcmFwcGluZzogdHJ1ZSwNCiAgICBsaW5lTnVtYmVy
czogdHJ1ZSwNCiAgICBtYXRjaEJyYWNrZXRzOiB0cnVlLA0KICAgIHRoZW1lOiAiYW1iaWFu
Y2UiDQp9KTsgICANCkVPRjsNCg0KJGpzIC49ICc8L3NjcmlwdD4nOw0KDQplY2hvICRqczsN
Cn0NCg0KZnVuY3Rpb24gc3BmX3RleHRhcmVhX2V4dCgkZXZlbnQsICRzdGVwKSB7DQpzcGZf
Y29kZW1pcnJvcl90aGVtZV9zZWxlY3QoKTsNCnNwZl90ZXh0YXJlYV9jb21tb24oKTsNCiRq
cyA9ICc8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvY29kZW1pcnJvci9j
bV9waHBfbWluLmpzIj48L3NjcmlwdD4nOw0KJGpzIC49ICc8c2NyaXB0IHR5cGU9InRleHQv
amF2YXNjcmlwdCI+JzsNCg0KJGpzIC49IDw8PEVPRg0KdmFyIGVkaXRvciA9IENvZGVNaXJy
b3IuZnJvbVRleHRBcmVhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGZfZXh0IiksIHsN
CiAgICBsaW5lV3JhcHBpbmc6IHRydWUsDQogICAgbGluZU51bWJlcnM6IHRydWUsDQogICAg
bWF0Y2hCcmFja2V0czogdHJ1ZSwNCiAgICBtb2RlOiAiYXBwbGljYXRpb24veC1odHRwZC1w
aHAiLA0KICAgIGluZGVudFVuaXQ6IDQsDQogICAgaW5kZW50V2l0aFRhYnM6IHRydWUsDQog
ICAgZW50ZXJNb2RlOiAia2VlcCIsDQogICAgdGFiTW9kZTogInNoaWZ0IiwNCiAgICB0aGVt
ZTogImFtYmlhbmNlIg0KfSk7DQpFT0Y7DQoNCiRqcyAuPSAnPC9zY3JpcHQ+JzsNCg0KZWNo
byAkanM7DQp9DQoNCmZ1bmN0aW9uIHNwZl90ZXh0YXJlYV9jb21tb24oKSB7DQokY20gPSAn
PGxpbmsgaHJlZj0iL2NvZGVtaXJyb3IvY21fY29tYmluZWRfbWluLmNzcyIgcmVsPSJzdHls
ZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgLz4NCiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2
YXNjcmlwdCIgc3JjPSIvY29kZW1pcnJvci9jbV90aGVtZV9zZWxlY3RfbWluLmpzIj48L3Nj
cmlwdD4nOw0KDQplY2hvICRjbTsNCn0NCg0KZnVuY3Rpb24gc3BmX2NvZGVtaXJyb3JfdGhl
bWVfc2VsZWN0KCkgew0KJHNlbGVjdCA9ICc8cCBzdHlsZT0icG9zaXRpb246Zml4ZWQ7cmln
aHQ6MjBweDtib3R0b206MjBweCI+Q29kZU1pcnJvciB0aGVtZTogPHNlbGVjdCBvbmNoYW5n
ZT0ic2VsZWN0VGhlbWUoKSIgaWQ9InNlbGVjdCI+DQogICAgPG9wdGlvbj5kZWZhdWx0PC9v
cHRpb24+DQogICAgPG9wdGlvbiBzZWxlY3RlZD5hbWJpYW5jZTwvb3B0aW9uPg0KICAgIDxv
cHRpb24+YmxhY2tib2FyZDwvb3B0aW9uPg0KICAgIDxvcHRpb24+Y29iYWx0PC9vcHRpb24+
DQogICAgPG9wdGlvbj5lY2xpcHNlPC9vcHRpb24+DQogICAgPG9wdGlvbj5lbGVnYW50PC9v
cHRpb24+DQogICAgPG9wdGlvbj5sZXNzZXItZGFyazwvb3B0aW9uPg0KICAgIDxvcHRpb24+
bW9ub2thaTwvb3B0aW9uPg0KICAgIDxvcHRpb24+bmVhdDwvb3B0aW9uPg0KICAgIDxvcHRp
b24+bmlnaHQ8L29wdGlvbj4NCiAgICA8b3B0aW9uPnJ1YnlibHVlPC9vcHRpb24+DQogICAg
PG9wdGlvbj54cS1kYXJrPC9vcHRpb24+DQo8L3NlbGVjdD4NCjwvcD4nOw0KDQplY2hvICRz
ZWxlY3Q7DQp9IjtzOjQ6InR5cGUiO3M6MToiMyI7czo1OiJvcmRlciI7czoxOiI1IjtzOjU6
ImZsYWdzIjtzOjE6IjAiO3M6NDoiaGVscCI7czoxOTU3OiIJPGgxPnNwZl9jb2RlbWlycm9y
PC9oMT4KCgk8cD5BIHN5bnRheC1oaWdobGlnaHRpbmcgcGx1Z2luIGZvciBUZXh0cGF0dGVy
biBhZG1pbi48L3A+CgoJPGgyPkJhY2tncm91bmQ8L2gyPgoKCTxwPlRoaXMgaXMgYSBxdWlj
ayB1cGRhdGUgdG8gRGFsZSBDaGFwbWFuJiM4MjE3O3MgPGEgaHJlZj0iaHR0cDovL2ZvcnVt
LnRleHRwYXR0ZXJuLmNvbS92aWV3dG9waWMucGhwP2lkPTM4MDE1Ij5tcmRfY29kZU1pcnJv
cjwvYT4gd2hpY2gsIGluIHR1cm4sIHdhcyBwcm9tcHRlZCBieSBteSA8YSBocmVmPSJodHRw
Oi8vZm9ydW0udGV4dHBhdHRlcm4uY29tL3ZpZXd0b3BpYy5waHA/aWQ9Mzc5NTciPkNvZGVN
aXJyb3IgYWRtaW4gdGhlbWU8L2E+IGFuZCwgb2YgY291cnNlLCBNYXJpam4gSGF2ZXJiZWtl
JiM4MjE3O3MgPGEgaHJlZj0iaHR0cDovL2NvZGVtaXJyb3IubmV0Ij5Db2RlTWlycm9yPC9h
Pi48L3A+CgoJPHA+VGhhbmtzIHRvIERhbGUgYW5kIE1hcmlqbi48L3A+CgoJPGgyPkZlYXR1
cmVzPC9oMj4KCgk8b2w+CgkJPGxpPkFkZHMgPGEgaHJlZj0iaHR0cDovL2NvZGVtaXJyb3Iu
bmV0Ij5Db2RlTWlycm9yPC9hPiBzeW50YXgtaGlnaGxpZ2h0aW5nIHRvIHRleHRhcmVhcyBp
biBUZXh0cGF0dGVybiYjODIxNztzIEZvcm1zLCBQYWdlcyBhbmQgU3R5bGUgdGFiczs8L2xp
PgoJCTxsaT5BbHNvIHRvIEphdmFTY3JpcHQgdGFiICg8YSBocmVmPSJodHRwOi8vZm9ydW0u
dGV4dHBhdHRlcm4uY29tL3ZpZXd0b3BpYy5waHA/aWQ9Mzc4NDkiPnNwZl9qczwvYT4gcmVx
dWlyZWQpIGFuZCBFeHRlcm5hbCBGaWxlcyB0YWIgKDxhIGhyZWY9Imh0dHA6Ly9mb3J1bS50
ZXh0cGF0dGVybi5jb20vdmlld3RvcGljLnBocD9pZD0zODAzMiI+c3BmX2V4dDwvYT4gcmVx
dWlyZWQpOzwvbGk+CgkJPGxpPlRoZW1lIHNlbGVjdG9yLjwvbGk+Cgk8L29sPgoKCTxoMj5J
bnN0YWxsYXRpb248L2gyPgoKCTxvbD4KCQk8bGk+PGEgaHJlZj0iaHR0cHM6Ly9naXRodWIu
Y29tL3NwaWZmaW4vc3BmX2NvZGVtaXJyb3IvemlwYmFsbC9tYXN0ZXIiPjxzcGFuIGNsYXNz
PSJjYXBzIj5ET1dOTE9BRDwvc3Bhbj48L2E+IGFuZCB1bnppcDs8L2xpPgoJCTxsaT5VcGxv
YWQgdGhlIGNvbnRhaW5pbmcgJiM4MjE2O2NvZGVtaXJyb3ImIzgyMTc7IGRpcmVjdG9yeSB0
byB5b3VyIHdlYiByb290OzwvbGk+CgkJPGxpPkluc3RhbGwgYW5kIGFjdGl2YXRlIHRoZSBw
bHVnaW4gKHNwZl9jb2RlbWlycm9yX3YwLjEudHh0ICYjODIxMTsgaW5zaWRlIHRoZSB1bnpp
cHBlZCBmb2xkZXIpLjwvbGk+Cgk8L29sPgoKCTxoMj5Ob3RlcyAmYW1wOyBpc3N1ZXM8L2gy
PgoKCTxvbD4KCQk8bGk+SW5jbHVkZWQgLmpzIGFuZCAuY3NzIGZpbGVzIGhhdmUgYmVlbiBj
b21iaW5lZCBhbmQgbWluaWZpZWQgKG9yaWdpbmFsIGZpbGVuYW1lcyBhcmUgcmVmZXJlbmNl
ZCBpbiBoZWFkZXIpOzwvbGk+CgkJPGxpPlJlbW9yYSBkcm9wLWRvd24gbWVudXMgYXJlIHN0
aWxsIGhpZGRlbiBiZWhpbmQgdGhlIHRleHRhcmVhOzwvbGk+CgkJPGxpPlRleHRhcmVhIHJl
c2l6aW5nIGlzIGRpc2FibGVkIChlbmFibGluZyBnaXZlcyBlcnJhdGljIHJlc3VsdHMpOzwv
bGk+CgkJPGxpPlBsdWdpbnMgZWRpdG9yIG5vdCBzdXBwb3J0ZWQ7PC9saT4KCQk8bGk+Q29k
ZS1mb2xkaW5nIHJlcXVpcmVzIGlucHV0IHRvIHRoZSBKYXZhc2NyaXB0ICh3aGljaCBsaW5l
cyB0byBmb2xkKSBhbmQgaXMgdGhlcmVmb3JlIGRpc2FibGVkOzwvbGk+CgkJPGxpPlRoZW1l
IHNlbGVjdG9yIGlzIGJvdHRvbS1yaWdodDogbm90IHRoZSBtb3N0IGVsZWdhbnQgc29sdXRp
b24gYnV0IHdvcmtzIGNvbnNpc3RlbnRseSBhY3Jvc3MgbW9zdCBhZG1pbiB0aGVtZXMgKHNw
ZWNpZmljYWxseSBDbGFzc2ljLCBIaXZlLCBTdGVlbCkuPC9saT4KCTwvb2w+CgoJPGgyPkhp
c3Rvcnk8L2gyPgoKCTxwPk1heSAyMDEyICYjODIxMTsgdmVyc2lvbiAwLjE8L3A+IjtzOjM6
Im1kNSI7czozMjoiZTFiNTYyN2RkMWFkOWE5OWE3YzRjZTZmOWEyNDhlNzkiO30=
